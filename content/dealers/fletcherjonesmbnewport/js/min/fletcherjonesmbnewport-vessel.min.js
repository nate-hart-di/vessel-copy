jQuery(document).ready(function (a) {
  var e = window.outerWidth;
  (isSmallMobile = {
    any: function () {
      return window.outerWidth < 767;
    },
  }),
    (isVRP = {
      listview: function () {
        return !!a('.vehicle.list-view').length;
      },
      gridview: function () {
        return !!a('.vehicle.grid-view').length;
      },
      any: function () {
        return !!a('#results-page').length;
      },
    }),
    (isVDP = {
      wide1400: function () {
        return !!a('.maincardetails').length;
      },
      hotwheels: function () {
        return !!a('.project-hotwheels').length;
      },
      any: function () {
        return !!a('.vdpModals').length;
      },
    }),
    a('[rel=popover]').popover({
      html: !0,
      placement: 'bottom',
      content: function () {
        return a('.savingsDetailsList').html();
      },
    }),
    a('#save-vehicles-custom-toggle').click(function () {
      a('#save-vehicles-expand-btn').trigger('click');
    }),
    a('.dealersnav ul.sub-menu').css('max-height', '400px'),
    e <= 600 && a('.dealersnav ul.sub-menu').css('max-height', '200px'),
    a('[href="#"]').attr('href', 'javascript:void(0)'),
    a('body').on('homepage-usp-hidden', function () {
      a('#search-overlay .overlay-content').html('');
    }),
    a(function () {
      a('a.scroll').click(function () {
        if (
          location.pathname.replace(/^\//, '') == this.pathname.replace(/^\//, '') &&
          location.hostname == this.hostname
        ) {
          var e = a(this.hash);
          if ((e = e.length ? e : a('[name=' + this.hash.slice(1) + ']')).length)
            return a('html,body').animate({ scrollTop: e.offset().top }, 1e3), !1;
        }
      });
    }),
    a('#footer, #videobanner, .menu-top').click(function () {
      a.sidr('close', 'mobile-menu');
    }),
    a('.dayOW').appendTo('.dealer-hours span.department'),
    a('#menu-toggle').on('click', function () {
      a('#menu-toggle').toggleClass('active'),
        jQuery(window).width() <= 1024 && a('#whitewrap, body.stacks-enabled .di-stacks--top').toggleClass('open-menu');
    }),
    a('li.difo-wallet.difo-wallet-btn-container').addClass('visible-xs'),
    a('.specialCoupon .view-disclaimer-link').on('click', function (e) {
      var i = a(this).parents('.specialCoupon').find('.disclaimer');
      a(i).addClass('open');
    }),
    a('.specialCoupon .disclaimer .fa-close').on('click', function (e) {
      a(this).parents('.disclaimer').removeClass('open');
    }),
    a('#c-class-countdown .c-class-countdown-close').click(function () {
      a(this).parent().toggleClass('close'), a('.c-class-countdown-sm').toggleClass('inactive');
    }),
    a('.c-class-countdown-sm').click(function () {
      a(this).toggleClass('inactive'), a('#c-class-countdown').toggleClass('close');
    }),
    'visited' ==
      (function (e) {
        var i = document.cookie.match(new RegExp('(^| )' + e + '=([^;]+)'));
        if (i) return i[2];
      })('vrp-form') && a('body').addClass('locked-pricing-price-unlocked'),
    a('#vrp-custom-filter').click(function (e) {
      e.preventDefault(),
        a('.mobile-tabs.mobile-tabs-count-4 .mobile-tab-1').show(),
        a('.mobile-tab.filter .mobile-tab-label').trigger('click');
    }),
    jQuery('body').on('vrp-ajax-complete vrp-ready', function () {
      a('.vehicle').each(function () {
        var e = a(this).find('#lease-for-less-cta'),
          i = a(this).find('#get-eprice-cta'),
          t = a(this).find('.mock-gylon a'),
          o = a(this).find('.eprice-mock a');
        a(e).click(function (e) {
          a(t).click();
        }),
          a(i).click(function (e) {
            a(o).click();
          });
      });
    });
  var i,
    t,
    o,
    n,
    l,
    r,
    s,
    c = setInterval(function () {
      void 0 !== window.l_vrp_did_change &&
        (clearInterval(c), window.l_vrp_did_change && (window.l_vrp_did_change = !1));
    }, 500);
  a(document).on('click', '#lvrp-vehicle-finder-image', function (e) {
    a('#lightning-vehiclefinder').modal('show'), a('#lightning-vehiclefinder').removeClass('hidden');
  }),
    a('.inventory-owl').length &&
      setTimeout(function () {
        (data = a('.inventory-owl .grid-view-results-wrapper').data('owlCarousel')),
          console.log('this is things'),
          console.log(),
          data && a('.inventory-owl .vehicle').matchHeight();
      }, 3e3),
    isVDP.hotwheels() &&
      (a('body').on('click', '#ctabox-premium-features .features-link', function (e) {
        a('#factory_options .panel-title a').trigger('click');
      }),
      a('#mini-header').css('display', 'none'),
      a('.details-page-titlewrap .details-page-row').removeClass('no-spacer'),
      a('.cta-caption > p:first').insertAfter('.disclaimer-small > p:first'),
      a('.panel-title a')
        .not('.collapsed')
        .addClass('collapsed')
        .parents('.panel')
        .find('.panel-collapse')
        .removeClass('in'),
      a(window).resize()),
    a('body.page-vehicle-display-page').length &&
      a('.vdp-third-party-shopping-tools .move-to-ctabox').insertAfter('.ctabox-inner .vehicle-records'),
    a('body.page-vehicle-display-page').length &&
      window.outerWidth < 768 &&
      0 < a('.maincta-row .cta-button').length &&
      ((i = a('.maincta-row .cta-button')),
      (t = a(i).offset().top),
      (o = a(window)),
      a(window).scroll(function () {
        o.scrollTop() + 115 >= t ? a(i).addClass('fixed-top') : a(i).removeClass('fixed-top');
      })),
    a('#ctabox-premium-features .features-link').click(function () {
      a(this).parent().toggleClass('open');
    }),
    a('body').hasClass('page-vehicle-display-page') &&
      (a('div#inquire-button').insertAfter('.maincta-row.ctabox-row'),
      a('div#inquire-button a').css('display', 'block'),
      a('.details-page-gallerywrap .carfax-report').length &&
        (a('.carfax-report').wrap("<div class='cpo-carfax d-inline-block'></div>"),
        (n = setInterval(function () {
          0 < a(l).length && r < s && (l.appendTo(a('.cpo-carfax')), clearInterval(n));
          r += 100;
        }, 100)),
        (l = a('.below-gallery-shopping-tool')),
        (r = 0),
        (s = 5e3))),
    isSmallMobile.any() &&
      (a('.gallery a.large-img').removeClass('fancybox'),
      a('#gallerycarousel')
        .find('a')
        .removeClass('fancybox')
        .click(function (e) {
          e.preventDefault(),
            a('.gallery').find('a.large-img').attr('href', a(this).attr('href')),
            a('.gallery').find('a.large-img img').attr('src', a(this).attr('href'));
        }),
      a('#gallerycarousel').touchwipe({
        wipeLeft: function () {
          a('#gallerycarousel').jcarousel('next'), jQuery('.carousel').tooltip('close');
        },
        wipeRight: function () {
          a('#gallerycarousel').jcarousel('prev'), jQuery('.carousel').tooltip('close');
        },
      }),
      a('.carousel').tooltip({
        content: 'Swipe Left/Right to Scroll Gallery!',
        position: { my: 'center', at: 'center' },
      })),
    window.outerWidth < 768 && (isMobile.iOS() ? a('.fj-drive .android').hide() : a('.fj-drive .iOS').hide()),
    (window.sr = ScrollReveal()),
    (window.sr = ScrollReveal({
      duration: 1e3,
      scale: 1,
      origin: 'bottom',
      distance: '150px',
      easing: 'cubic-bezier(0.5, 1.10, 0.4, 1.19)',
      viewFactor: 0.65,
      mobile: !1,
    })),
    sr.reveal('.fly-in-left', { mobile: !1, origin: 'left', duration: 700, viewFactor: 0.65, distance: '150px' }),
    sr.reveal('.fly-in-right', { mobile: !1, origin: 'right', duration: 700, viewFactor: 0.65, distance: '150px' }),
    sr.reveal('.fly-in-bottom', { mobile: !1, origin: 'bottom', duration: 700, viewFactor: 0.65, distance: '150px' }),
    a('.lazy-loading').each(function (e) {
      var i = a(this);
      setTimeout(function () {
        i.addClass('active');
      }, 350 * e);
    }),
    a('.featured-carousel').owlCarousel({
      loop: !0,
      margin: 10,
      navigation: !0,
      navigationText: [
        '<i class="fa fa-angle-left" aria-hidden="true"></i>',
        '<i class="fa fa-angle-right" aria-hidden="true"></i>',
      ],
      items: 4,
      itemsDesktop: [1200, 3],
      itemsDesktopSmall: [1024, 2],
      itemsTablet: [767, 1],
    }),
    a('#eqe-suv-hidden').removeClass('hidden'),
    a('#eqe-suv-show').addClass('hidden');
});
