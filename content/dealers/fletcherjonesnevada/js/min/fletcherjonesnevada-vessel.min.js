jQuery(document).ready(function (o) {
  o('[rel=popover]').popover({
    html: !0,
    placement: 'bottom',
    content: function () {
      return o('.savingsDetailsList').html();
    },
  });
  var e,
    t = jQuery(window).height();
  function a() {
    o('#menu-overlay').removeClass('open'),
      o('#menu-overlay .overlay-content').html(''),
      o('body').css('overflow', 'visible');
  }
  o('.dealersnav ul.sub-menu').css('max-height', '400px'),
    t <= 600 && o('.dealersnav ul.sub-menu').css('max-height', '200px'),
    (isSmallMobile = {
      any: function () {
        return o(window).width() < 767;
      },
    }),
    1199 < o(window).width()
      ? (setTimeout(function () {
          skrollr.init({ forceHeight: !1 });
        }, 500),
        (e = o(this).find('.paralax')),
        ($window = o(window)),
        o(window).scroll(function () {
          e.each(function (e) {
            $bgobj = o(this);
            var t = -($window.scrollTop() / $bgobj.data('speed')),
              a = 0;
            $bgobj.data('padding-top') && (a = $bgobj.data('padding-top')), (t += a);
            o(this).attr('id');
            var n = '50% ' + t + 'px';
            $bgobj.css({ backgroundPosition: n });
          });
        }))
      : (jQuery('.animateImage').attr('data-900', '0px'),
        jQuery('.animateImage').attr('data-1500', '0px'),
        jQuery('.cpocontent').attr('data-900', '0px'),
        jQuery('.cpocontent').attr('data-1500', '0px')),
    o('a.overlay-toggle').click(function () {
      o('.toolbar-overlays, #videooverlay').addClass('open'),
        o('#intro-overlay').removeClass('open'),
        o('.targetOverlay').hide(),
        o('.inside-tabs, .back-button, .close-overlay').fadeIn(),
        o('#' + o(this).attr('target') + '-overlay')
          .fadeIn(1e3)
          .addClass('showTarget');
    }),
    o('.close-overlay').click(function () {
      o('.inside-tabs, .close-overlay, .back-button').hide(),
        o('.toolbar-overlays, #videooverlay').removeClass('open'),
        o('#intro-overlay').addClass('open');
    }),
    o('.find-button').click(function () {
      o('.button-tabs, .targetDiv').hide(),
        o('.inside-tabs, .back-button').fadeIn(),
        o('#' + o(this).attr('target') + '-tab')
          .fadeIn(1e3)
          .addClass('showTarget');
    }),
    o('.back-button').click(function () {
      o('.inside-tabs, .back-button').hide(),
        o('.inside-tabs .targetDiv').hide().removeClass('showTarget'),
        o('.button-tabs').fadeIn(1e3);
    }),
    o(function () {
      o('a.scroll').click(function () {
        if (
          location.pathname.replace(/^\//, '') == this.pathname.replace(/^\//, '') &&
          location.hostname == this.hostname
        ) {
          var e = o(this.hash);
          if ((e = e.length ? e : o('[name=' + this.hash.slice(1) + ']')).length)
            return o('html,body').animate({ scrollTop: e.offset().top }, 1e3), !1;
        }
      });
    }),
    o('#desktop-menu-toggle').click(function () {
      'desktopHeaderMenuOpen' == o(this).attr('data-gtm-event')
        ? o(this).attr('data-gtm-event', 'desktopHeaderMenuClose')
        : o(this).attr('data-gtm-event', 'desktopHeaderMenuOpen');
    }),
    (isVRP = {
      listview: function () {
        return !!o('.vehicle.list-view').length;
      },
      gridview: function () {
        return !!o('.vehicle.grid-view').length;
      },
      any: function () {
        return !!o('#results-page').length;
      },
    }),
    (isVDP = {
      wide1400: function () {
        return !!o('.maincardetails').length;
      },
      hotwheels: function () {
        return !!o('.project-hotwheels').length;
      },
      any: function () {
        return !!o('.vdpModals').length;
      },
    }),
    0 < o('.inventory-owl #results-page').length &&
      o('body').live('vrp-ready vrp-ajax-complete', function () {
        o('.vehicle').each(function (e, t) {
          var a = o(this).find('.primary-cta'),
            n = o(this).find('.vehicle-price');
          o(a).appendTo(n).find('.button-form').addClass('block green'),
            o("<a href='/apply-for-financing/' class='button primary-button block'>Get Financing</a>").appendTo(n);
        });
      }),
    isVDP.hotwheels() &&
      (o(document).ready(function (t) {
        t('#mini-header').css('display', 'none'),
          t('.cta-caption > p:first').insertAfter('.disclaimer-small > p:first'),
          t('.shopping-tool.test-drive-cta .shopping-label .button-form')
            .addClass('button primary-button block')
            .appendTo('#details-page-ctabox div.test-drive-cta'),
          t('body').on('click', '#ctabox-premium-features .features-link', function (e) {
            t('#factory_options .panel-title a').trigger('click');
          }),
          t('#ctabox-premium-features .features-link').wrapInner("<span class='open-toggle'></span>"),
          t("<span class='close-toggle'>Close <i class='fa fa-times'></i></span>").appendTo(
            '#ctabox-premium-features .features-link',
          );
      }),
      o(document).ready(function (e) {
        e('#ctabox-premium-features a').replaceWith(function () {
          return e('<div/>', { class: 'features-link', html: this.innerHTML });
        }),
          e('#ctabox-premium-features .features-link').click(function () {
            e(this).parent().toggleClass('open');
          });
      })),
    o('#desktop-locations-toggle').click(function (e) {
      o(this).toggleClass('active'), o('#header').toggleClass('locations-active');
    }),
    o('.menu-overlay-toggle').click(function (e) {
      e.preventDefault();
      var t = o(this).data('toggle-target');
      o('#menu-overlay').toggleClass('open'),
        o('#menu-overlay .overlay-content').html(o(t).clone().css('display', 'block')),
        o('body').css('overflow', 'hidden');
    }),
    o('.menu-close-overlay').click(function () {
      a();
    }),
    o(window).keypress(function (e) {
      27 == e.keyCode && 0 < o('#menu-overlay.open').length && a();
    }),
    o('body').on('click', function (e) {
      'menu-overlay' == o(this).attr('id') && a();
    }),
    o('#desktop-locations-toggle').sidr({ name: 'sidr-desktop-locations', side: 'right' }),
    o('#desktop-phone-toggle').sidr({ name: 'sidr-desktop-phone', side: 'right' }),
    o('body').hasClass('page-vehicle-display-page') &&
      (o('div#inquire-button').insertAfter('.maincta-row.ctabox-row'),
      o('div#inquire-button a').css('display', 'block')),
    jQuery('body').on('vrp-ajax-complete vrp-ready', function () {
      var e, t;
      o('.vehicle').each(function () {
        (e = o(this).find('.button-bar-item.primary-cta')),
          (t = o(this).find('a.button.inquire')),
          o(this).find(t).appendTo(e);
      });
    }),
    o('#homepage-advanced-search select').length &&
      (o('#homepage-advanced-search select').selectpicker({ dropupAuto: !1 }),
      o('body').live('search_filters_rendered', function (e, t) {
        o('#homepage-advanced-search select').selectpicker('refresh');
      })),
    (search_filters_object = function (a) {
      try {
        o.each(a, function (e, t) {
          'New' == t.type && delete a[e];
        });
      } catch (e) {
        'undefined' != typeof console && console.log(e);
      }
      return a;
    });
});
